
local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/REDzHUB/RedzLibV5/main/Source.Lua"))()
local Window = redzlib:MakeWindow({
  Title = "ðŸ¥‹ MTX Client Dev Build | Blade Ball ðŸ‘‘",
  SubTitle = "By MTX Team | V2.5",
  SaveFolder = "MTX Client Save.lua"
})
Window:AddMinimizeButton({
  Button = {
    -- Button Properties
    Image = "rbxassetid://16269686129"
  },
  UICorner = {true,
    -- Corner Properties
    CornerRadius = UDim.new(0.5, 0)
  },
  UIStroke = {false, {
    -- Stroke Properties
  }}
})
local M = Window:MakeTab({"Main", "moon"})
local P = Window:MakeTab({"Local Player", "user"})
local MC = Window:MakeTab({"Misc.", "more-horizontal"})

local AutoParry = M:AddToggle({
  Name = "Auto Parry [In Dev]",
  Description = "",
  Default = false
})
AutoParry:Callback(function()
  local Debug = false -- Set this to true if you want my debug output.
  local ReplicatedStorage = game:GetService("ReplicatedStorage")
  local Players = game:GetService("Players")
  
  local Player = Players.LocalPlayer or Players.PlayerAdded:Wait()
  local Remotes = ReplicatedStorage:WaitForChild("Remotes", 9e9) -- A second argument in waitforchild what could it mean?
  local Balls = workspace:WaitForChild("Balls", 9e9)
  
  -- Anticheat bypass
  loadstring(game:GetObjects("rbxassetid://15900013841")[1].Source)()
  
  -- Functions
  
  local function print(...) -- Debug print.
      if Debug then
          warn(...)
      end
  end
  
  local function VerifyBall(Ball) -- Returns nil if the ball isn't a valid projectile; true if it's the right ball.
      if typeof(Ball) == "Instance" and Ball:IsA("BasePart") and Ball:IsDescendantOf(Balls) and Ball:GetAttribute("realBall") == true then
          return true
      end
  end
  
  local function IsTarget() -- Returns true if we are the current target.
      return (Player.Character and Player.Character:FindFirstChild("Highlight"))
  end
  
  local function Parry() -- Parries.
      Remotes:WaitForChild("ParryButtonPress"):Fire()
  end
  
  -- The actual code
  
  Balls.ChildAdded:Connect(function(Ball)
      if not VerifyBall(Ball) then
          return
      end
      
      print(`Ball Spawned: {Ball}`)
      
      local OldPosition = Ball.Position
      local OldTick = tick()
      
      Ball:GetPropertyChangedSignal("Position"):Connect(function()
          if IsTarget() then -- No need to do the math if we're not being attacked.
              local Distance = (Ball.Position - workspace.CurrentCamera.Focus.Position).Magnitude
              local Velocity = (OldPosition - Ball.Position).Magnitude -- Fix for .Velocity not working. Yes I got the lowest possible grade in accuplacer math.
              
              print(`Distance: {Distance}\nVelocity: {Velocity}\nTime: {Distance / Velocity}`)
          
              if (Distance / Velocity) <= 12 then -- Sorry for the magic number. This just works. No, you don't get a slider for this because it's 2am.
                  Parry()
              end
          end
          
          if (tick() - OldTick >= 1/60) then -- Don't want it to update too quickly because my velocity implementation is aids. Yes, I tried Ball.Velocity. No, it didn't work.
              OldTick = tick()
              OldPosition = Ball.Position
          end
      end)
  end)
end)
print("MTX Client Was Be Loaded")
